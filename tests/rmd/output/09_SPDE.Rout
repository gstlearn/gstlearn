
R version 4.2.1 (2022-06-23) -- "Funny-Looking Kid"
Copyright (C) 2022 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R est un logiciel libre livré sans AUCUNE GARANTIE.
Vous pouvez le redistribuer sous certaines conditions.
Tapez 'license()' ou 'licence()' pour plus de détails.

R est un projet collaboratif avec de nombreux contributeurs.
Tapez 'contributors()' pour plus d'information et
'citation()' pour la façon de le citer dans les publications.

Tapez 'demo()' pour des démonstrations, 'help()' pour l'aide
en ligne ou 'help.start()' pour obtenir l'aide au format HTML.
Tapez 'q()' pour quitter R.

> library("knitr")
> library("callr")
> 
> # Retrieve command args
> args   <- commandArgs(trailingOnly = TRUE)
> script <- args[1]
> outdir <- args[2]
> out_type = "R"
> if (length(args) > 2) {
+   out_type = args[3]
+ }
> 
> scriptname = basename(script)
> scriptname = tools::file_path_sans_ext(scriptname)
> 
> outscript = file.path(outdir, paste0(scriptname, ".", out_type))
> outpath   = file.path(outdir, paste0(scriptname, ".out"))
> 
> if (out_type == 'R') {
+   # 1. Convert Rmd to R script (no documentation)
+   # https://stackoverflow.com/questions/71183578/how-to-extract-all-code-from-an-rmarkdown-rmd-file
+   knitr::purl(input = script, output = outscript, documentation = 0)
+ 
+   # 2. Execute R script and dump output in a text file
+   # https://callr.r-lib.org/reference/rscript.html
+   rscript(outscript, stdout=outpath)
+ } else if (out_type == "html") {
+   rmarkdown::render(script, output_format='html_document', quiet=FALSE, output_dir=outdir)
+ } else {
+   stop("Hun ?\n")
+ }


processing file: /home/drenard/project_gstlearn/gstlearn/doc/courses/r/09_SPDE.Rmd
Erreur dans parse_block(g[-1], g[1], params.src, markdown_mode) : 
  Duplicate chunk label 'Loading_Data', which has been used for the chunk:
dlfile = "https://soft.minesparis.psl.eu/gstlearn/data/Scotland/Scotland_Temperatures.NF"
fileNF = "Scotland_Temperatures.NF"
download.file(dlfile, fileNF)
temperatures = Db_createFromNF(fileNF)
temperatures$setLocator("Elevation", ELoc_F())
iuid = temperatures$addSelection(as.numeric(! is.na(temperatures["J*"])))
temperatures$display()
Appels : <Anonymous> ... process_file -> split_file -> lapply -> FUN -> parse_block
Exécution arrêtée
